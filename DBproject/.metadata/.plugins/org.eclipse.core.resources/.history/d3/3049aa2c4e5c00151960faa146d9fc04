package dosql;

import java.sql.ResultSet;
import java.sql.SQLException;

import javax.swing.JScrollPane;
import javax.swing.JTable;

public class Select_Stu_List {
	Object[][] info;
	public Select_Stu_List(){
		ResultSet rs=null;
		
		String sql1="SELECT Team_ID,Stu_Name,Proj_ID,Num FROM Apply_List,Stu,Team_Num WHERE Apply_List.Stu_ID in (SELECT Team.Stu_ID FROM Team WHERE Team.isCap= 1 AND Team.Stu_ID=Stu.Stu_ID)";
		Conn c =new Conn(sql1);
		int count = 0;
			
		try {
			rs=c.pst.executeQuery();
			
			while(rs.next()){
			count++;
			}
			info = new Object[count][4];
			
			count=0;
			rs =c.pst.executeQuery(sql1);
			while(rs.next()){
				System.out.println("get in");
				info[count][0] = rs.getString("Team_ID");
				System.out.print(rs.getString("Team_ID"));
				info[count][1] = rs.getString("Stu_Name");
				System.out.print(rs.getString("Stu_Name"));
				info[count][2] = rs.getString("Proj_ID");
				System.out.print(rs.getString("Proj_ID"));
				info[count][3] = rs.getString("Num");
				System.out.println(rs.getString("Num"));
				count++;
				}
			
			
			
			c.close();
			rs.close();
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
			
	}
	public static Object[][] getObject(){
		Select_Stu_List ssl =new Select_Stu_List();
		
		return ssl.info;
		
	}
}

